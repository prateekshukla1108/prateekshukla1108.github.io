<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post Title • Prateek's Blog</title>
  <meta property="og:title" content="Post Title • Prateek's Blog">
  <meta property="og:description" content="Post Title - Read more on Prateek's Blog">
  <meta property="og:type" content="article">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Post Title • Prateek's Blog">
  <meta name="author" content="Prateek">
  <meta name="description" content="Personal blog by Prateek - thoughts on technology, philosophy, and life">
  <link rel="stylesheet" href="/blog/post.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <div class="progress" id="progress"></div>

  <div class="bg-layers" aria-hidden="true">
    <div class="grid"></div>
    <div class="scan"></div>
    <div class="cursor" id="cursorGlow"></div>
  </div>

  <div class="container">
    <header>
      <div class="header-row">
        <div class="header-left">
          <a href="/" class="home-button" title="Back to Home (Ctrl/Cmd + H)">
            <i class="fas fa-home"></i>
            <span>Home</span>
          </a>
          <button class="toc-toggle" id="tocToggle" title="Toggle Table of Contents">
            <i class="fas fa-list"></i>
          </button>
        </div>
        <div class="header-right">
          <div class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon"></i>
            <div class="toggle-slider"><div class="slider-icon"></div></div>
            <i class="fas fa-sun"></i>
          </div>
        </div>
      </div>
      <h1 class="title" id="postTitle">Post Title</h1>
      <div class="meta">
        <span><i class="far fa-calendar"></i> <time id="postDate">2025-01-01</time></span>
        <span><i class="far fa-user"></i> <span id="postAuthor">Prateek</span></span>
        <span><i class="far fa-clock"></i> <span id="postReading">5 min read</span></span>
      </div>
    </header>

    <div class="layout">
      <aside class="toc">
        <h3>On this page</h3>
        <ul id="tocList"></ul>
      </aside>

      <article id="postContent">
        <!-- Content will be inserted here -->
      </article>
    </div>

    <!-- Social Sharing -->
    <div class="social-share">
      <h4>Share this post</h4>
      <div class="share-buttons">
        <a href="#" class="share-btn twitter" onclick="shareOnTwitter()">
          <i class="fab fa-twitter"></i>
          <span>Twitter</span>
        </a>
        <a href="#" class="share-btn linkedin" onclick="shareOnLinkedIn()">
          <i class="fab fa-linkedin"></i>
          <span>LinkedIn</span>
        </a>
        <a href="#" class="share-btn copy" onclick="copyLink()">
          <i class="fas fa-link"></i>
          <span>Copy Link</span>
        </a>
      </div>
    </div>

    <!-- Footer -->
    <footer class="post-footer">
      <div class="footer-content">
        <p>© 2024 Prateek's Blog. Built with ❤️ and cyberpunk aesthetics.</p>
        <div class="footer-links">
          <a href="/">Home</a>
          <a href="#top" onclick="scrollToTop()">Back to Top</a>
        </div>
      </div>
    </footer>
  </div>

  <script>
    const body = document.body;
    const themeToggle = document.getElementById('themeToggle');
    const progress = document.getElementById('progress');
    const tocList = document.getElementById('tocList');
    const cursorGlow = document.getElementById('cursorGlow');
    const tocToggle = document.getElementById('tocToggle');
    const toc = document.querySelector('.toc');

    // Theme toggle
    if (localStorage.getItem('theme') === 'light') body.classList.add('light-mode');
    themeToggle.addEventListener('click', () => {
      body.classList.toggle('light-mode');
      localStorage.setItem('theme', body.classList.contains('light-mode') ? 'light' : 'dark');
      showToast(body.classList.contains('light-mode') ? 'Switched to light mode' : 'Switched to dark mode');
    });

    // Progress bar
    const onScroll = () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
      progress.style.width = (scrolled * 100) + '%';
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // TOC toggle for mobile
    if (tocToggle) {
      tocToggle.addEventListener('click', () => {
        toc.classList.toggle('visible');
        const icon = tocToggle.querySelector('i');
        icon.className = toc.classList.contains('visible') ? 'fas fa-times' : 'fas fa-list';
      });
    }

    // TOC generation
    function buildTOC() {
      const headings = document.querySelectorAll('#postContent h2, #postContent h3');
      tocList.innerHTML = '';
      const items = [];
      headings.forEach((h, i) => {
        const id = h.id || `h-${i}`;
        h.id = id;
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = `#${id}`;
        a.textContent = h.textContent;
        if (h.tagName === 'H3') a.style.paddingLeft = '12px';
        li.appendChild(a);
        tocList.appendChild(li);
        items.push({ id, el: h, a });
      });

      // Active section observer
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const item = items.find(x => x.el === entry.target);
          if (!item) return;
          if (entry.isIntersecting) {
            items.forEach(i => i.a.classList.remove('active'));
            item.a.classList.add('active');
          }
        });
      }, { rootMargin: '0px 0px -70% 0px', threshold: 0.1 });

      items.forEach(item => obs.observe(item.el));
    }

    buildTOC();

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      switch(e.key.toLowerCase()) {
        case 'h':
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
            window.location.href = '/';
          }
          break;
        case 'home':
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }
          break;
        case 'end':
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
          }
          break;
        case 't':
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
            tocToggle.click();
          }
          break;
      }
    });

    // Social sharing functions
    function shareOnTwitter() {
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent(document.title);
      window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
    }

    function shareOnLinkedIn() {
      const url = encodeURIComponent(window.location.href);
      window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank');
    }

    function copyLink() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        showToast('Link copied to clipboard!');
      });
    }

    // Scroll to top function
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Toast notifications
    function showToast(message) {
      let toast = document.querySelector('.toast');
      if (!toast) {
        toast = document.createElement('div');
        toast.className = 'toast';
        document.body.appendChild(toast);
      }
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // Cursor-follow glow
    window.addEventListener('mousemove', (e) => {
      if (!cursorGlow) return;
      cursorGlow.style.setProperty('--mx', e.clientX + 'px');
      cursorGlow.style.setProperty('--my', e.clientY + 'px');
    }, { passive: true });

    // Smooth loading animation
    document.addEventListener('DOMContentLoaded', () => {
      document.body.classList.add('loaded');
    });

    // Reading time calculation
    function updateReadingTime() {
      const wordsPerMinute = 200;
      const words = document.querySelectorAll('#postContent p, #postContent li');
      let wordCount = 0;
      words.forEach(element => {
        wordCount += element.textContent.split(' ').length;
      });
      const readingTime = Math.ceil(wordCount / wordsPerMinute);
      const readingElement = document.getElementById('postReading');
      if (readingElement) {
        readingElement.textContent = `${readingTime} min read`;
      }
    }

    updateReadingTime();
  </script>

</body>

</html>


